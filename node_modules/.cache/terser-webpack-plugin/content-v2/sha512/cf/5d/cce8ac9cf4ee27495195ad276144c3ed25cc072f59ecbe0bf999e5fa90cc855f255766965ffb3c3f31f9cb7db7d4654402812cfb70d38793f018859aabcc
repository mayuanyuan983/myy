{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{314:function(s,e,_){\"use strict\";_.r(e);var t=_(3),v=Object(t.a)({},(function(){var s=this,e=s.$createElement,_=s._self._c||e;return _(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[_(\"h1\",{attrs:{id:\"session共享\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#session共享\"}},[s._v(\"#\")]),s._v(\" session共享\")]),s._v(\" \"),_(\"p\",[s._v(\"登录信息session共享问题\")]),s._v(\" \"),_(\"p\",[s._v(\"1.使用redis 数据库之类存储session\")]),s._v(\" \"),_(\"p\",[s._v(\"2.负载加入ip_hash\")]),s._v(\" \"),_(\"p\",[s._v(\"Nginx中的ip_hash技术能够将某个ip 的请求定向到同一台后端web机器中,这样一来这个ip 下的客户端和某个后端 web机器就能建立起稳固的session.\")]),s._v(\" \"),_(\"p\",[s._v(\"ip_hash机制能够让某一客户机在相当长的一段时间内只访问固定的后端的某台真实的web服务器,这样会话就会得以保持,在网站页面进行login的时候就不会在后面的web服务器之间跳来跳去了,也不会出现登录一次的网站又提醒重新登录的情况.\")]),s._v(\" \"),_(\"p\",[s._v(\"Ip_hash是在upstream配置中定义的:\")]),s._v(\" \"),_(\"p\",[s._v(\"upstream nginx.example.com{\")]),s._v(\" \"),_(\"p\",[s._v(\"​\\tserver 192.168.74.235:80;\")]),s._v(\" \"),_(\"p\",[s._v(\"​\\tserver 192.168.74.236:80;\")]),s._v(\" \"),_(\"p\",[s._v(\"​\\tip_hash;\")]),s._v(\" \"),_(\"p\",[s._v(\"}\")]),s._v(\" \"),_(\"p\",[s._v('date -s \"20200521 13:19:20\"')]),s._v(\" \"),_(\"p\",[s._v(\"设置系统时间\")]),s._v(\" \"),_(\"p\",[s._v(\"ntpdate 10.70.91.148\")])])}),[],!1,null,null,null);e.default=v.exports}}]);","extractedComments":[]}