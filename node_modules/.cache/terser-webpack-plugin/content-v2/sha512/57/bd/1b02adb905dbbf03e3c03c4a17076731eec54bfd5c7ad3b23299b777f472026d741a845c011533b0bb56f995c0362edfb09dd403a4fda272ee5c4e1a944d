{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{323:function(v,e,_){\"use strict\";_.r(e);var t=_(3),a=Object(t.a)({},(function(){var v=this,e=v.$createElement,_=v._self._c||e;return _(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":v.$parent.slotKey}},[_(\"h1\",{attrs:{id:\"分支管理\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#分支管理\"}},[v._v(\"#\")]),v._v(\" 分支管理\")]),v._v(\" \"),_(\"h2\",{attrs:{id:\"_1-创建分支dev\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-创建分支dev\"}},[v._v(\"#\")]),v._v(\" 1.创建分支dev\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git checkout -b dev\")])]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git checkout\")]),v._v(\"命令加上\"),_(\"code\",[v._v(\"-b\")]),v._v(\"参数表示创建并切换，相当于以下两条命令：\")]),v._v(\" \"),_(\"div\",{staticClass:\"language- line-numbers-mode\"},[_(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[_(\"code\",[v._v(\"$ git branch dev\\n$ git checkout dev\\nSwitched to branch 'dev'\\n\")])]),v._v(\" \"),_(\"div\",{staticClass:\"line-numbers-wrapper\"},[_(\"span\",{staticClass:\"line-number\"},[v._v(\"1\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"2\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"3\")]),_(\"br\")])]),_(\"h2\",{attrs:{id:\"_2-查看分支\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-查看分支\"}},[v._v(\"#\")]),v._v(\" 2.查看分支\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git branch\")]),v._v(\"查看当前分支\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git branch\")]),v._v(\"命令会列出所有分支，当前分支前面会标一个\"),_(\"code\",[v._v(\"*\")]),v._v(\"号。\")]),v._v(\" \"),_(\"p\",[v._v(\"然后，我们就可以在\"),_(\"code\",[v._v(\"dev\")]),v._v(\"分支上正常提交\")]),v._v(\" \"),_(\"p\",[v._v(\"完成后切换分支\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git checkout master\")])]),v._v(\" \"),_(\"p\",[v._v(\"合并分支\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git merge\")]),v._v(\"命令用于合并指定分支到当前分支。合并后，再查看\"),_(\"code\",[v._v(\"readme.txt\")]),v._v(\"的内容，就可以看到，和\"),_(\"code\",[v._v(\"dev\")]),v._v(\"分支的最新提交是完全一样的。\")]),v._v(\" \"),_(\"div\",{staticClass:\"language-cmd line-numbers-mode\"},[_(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[_(\"code\",[v._v(\"$ git merge dev\\nUpdating d67e632..04dba94\\nFast-forward\\n README.md | 4 +++-\\n 1 file changed, 3 insertions(+), 1 deletion(-)\\n\")])]),v._v(\" \"),_(\"div\",{staticClass:\"line-numbers-wrapper\"},[_(\"span\",{staticClass:\"line-number\"},[v._v(\"1\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"2\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"3\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"4\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"5\")]),_(\"br\")])]),_(\"p\",[v._v(\"注意到上面的\"),_(\"code\",[v._v(\"Fast-forward\")]),v._v(\"信息，Git告诉我们，这次合并是“快进模式”，也就是直接把\"),_(\"code\",[v._v(\"master\")]),v._v(\"指向\"),_(\"code\",[v._v(\"dev\")]),v._v(\"的当前提交，所以合并速度非常快。\")]),v._v(\" \"),_(\"p\",[v._v(\"当然，也不是每次合并都能\"),_(\"code\",[v._v(\"Fast-forward\")]),v._v(\"，我们后面会讲其他方式的合并。\")]),v._v(\" \"),_(\"p\",[v._v(\"合并完成后，就可以放心地删除\"),_(\"code\",[v._v(\"dev\")]),v._v(\"分支了：\")]),v._v(\" \"),_(\"h2\",{attrs:{id:\"_3-删除分支\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-删除分支\"}},[v._v(\"#\")]),v._v(\" 3.删除分支\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git branch -d dev\")])]),v._v(\" \"),_(\"div\",{staticClass:\"custom-block tip\"},[_(\"p\",{staticClass:\"custom-block-title\"},[v._v(\"TIP\")]),v._v(\" \"),_(\"p\",[v._v(\"Git鼓励你使用分支完成某个任务，合并后再删掉分支，这和直接在\"),_(\"code\",[v._v(\"master\")]),v._v(\"分支上工作效果是一样的，但过程更安全。\")])]),v._v(\" \"),_(\"h2\",{attrs:{id:\"_4-切换分支\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-切换分支\"}},[v._v(\"#\")]),v._v(\" 4.切换分支\")]),v._v(\" \"),_(\"p\",[v._v(\"切换分支使用\"),_(\"code\",[v._v(\"git checkout <branch>\")])]),v._v(\" \"),_(\"p\",[v._v(\"撤销修改使用\"),_(\"code\",[v._v(\"git checkout -- <file>\")])]),v._v(\" \"),_(\"p\",[v._v(\"过于相似\")]),v._v(\" \"),_(\"p\",[v._v(\"目前，切换分支，我们使用\"),_(\"code\",[v._v(\"git switch\")]),v._v(\"命令\")]),v._v(\" \"),_(\"p\",[v._v(\"创建并切换到新的dev分支\"),_(\"code\",[v._v(\"git switch -c dev\")])]),v._v(\" \"),_(\"p\",[v._v(\"直接切换到已有的master分支\"),_(\"code\",[v._v(\"git switch master\")])]),v._v(\" \"),_(\"div\",{staticClass:\"custom-block tip\"},[_(\"p\",{staticClass:\"custom-block-title\"},[v._v(\"小结\")]),v._v(\" \"),_(\"p\",[v._v(\"查看分支：\"),_(\"code\",[v._v(\"git branch\")])]),v._v(\" \"),_(\"p\",[v._v(\"创建分支：\"),_(\"code\",[v._v(\"git branch <name>\")])]),v._v(\" \"),_(\"p\",[v._v(\"切换分支：\"),_(\"code\",[v._v(\"git checkout <name>\")]),v._v(\"或者\"),_(\"code\",[v._v(\"git switch <name>\")])]),v._v(\" \"),_(\"p\",[v._v(\"创建+切换分支：\"),_(\"code\",[v._v(\"git checkout -b <name>\")]),v._v(\"或者\"),_(\"code\",[v._v(\"git switch -c <name>\")])]),v._v(\" \"),_(\"p\",[v._v(\"合并某分支到当前分支：\"),_(\"code\",[v._v(\"git merge <name>\")])]),v._v(\" \"),_(\"p\",[v._v(\"删除分支：\"),_(\"code\",[v._v(\"git branch -d <name>\")])])]),v._v(\" \"),_(\"h2\",{attrs:{id:\"_5-解决冲突\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-解决冲突\"}},[v._v(\"#\")]),v._v(\" 5.解决冲突\")]),v._v(\" \"),_(\"p\",[v._v(\"创建分支feature1\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git switch -c feature1\")])]),v._v(\" \"),_(\"p\",[v._v(\"修改文件后提交\")]),v._v(\" \"),_(\"p\",[v._v(\"切换回master分支\")]),v._v(\" \"),_(\"p\",[v._v(\"修改文件后提交\")]),v._v(\" \"),_(\"p\",[v._v(\"合并\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git merge feature1\")])]),v._v(\" \"),_(\"p\",[v._v(\"存在冲突\")]),v._v(\" \"),_(\"div\",{staticClass:\"language- line-numbers-mode\"},[_(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[_(\"code\",[v._v(\"$ git merge feature1\\nAuto-merging readme.txt\\nCONFLICT (content): Merge conflict in readme.txt\\nAutomatic merge failed; fix conflicts and then commit the result.\\n\")])]),v._v(\" \"),_(\"div\",{staticClass:\"line-numbers-wrapper\"},[_(\"span\",{staticClass:\"line-number\"},[v._v(\"1\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"2\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"3\")]),_(\"br\"),_(\"span\",{staticClass:\"line-number\"},[v._v(\"4\")]),_(\"br\")])]),_(\"p\",[v._v(\"Git用\"),_(\"code\",[v._v(\"<<<<<<<\")]),v._v(\"，\"),_(\"code\",[v._v(\"=======\")]),v._v(\"，\"),_(\"code\",[v._v(\">>>>>>>\")]),v._v(\"标记出不同分支的内容，修改冲突的文件后保存，再次添加到暂存区，再提交。\")]),v._v(\" \"),_(\"p\",[v._v(\"查看分支合并情况\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git log --graph --pretty=oneline --abbrev-commit\")])]),v._v(\" \"),_(\"p\",[v._v(\"删除feature1分支\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git branch -d feature1\")])]),v._v(\" \"),_(\"p\",[v._v(\"查看分支合并图\"),_(\"code\",[v._v(\"git log --graph\")])]),v._v(\" \"),_(\"h2\",{attrs:{id:\"_6-分支管理策略\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-分支管理策略\"}},[v._v(\"#\")]),v._v(\" 6.分支管理策略\")]),v._v(\" \"),_(\"p\",[v._v(\"合并分支的模式\")]),v._v(\" \"),_(\"p\",[v._v(\"合并分支时，Git会使用\"),_(\"code\",[v._v(\"Fast forward\")]),v._v(\"模式：这种模式下，删除分支后，会丢掉分支信息\")]),v._v(\" \"),_(\"p\",[v._v(\"如果禁用此模式，Git会在merge时生成一个新的commit，可以从\"),_(\"code\",[v._v(\"git log\")]),v._v(\"中看到分支信息\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"--no-ff\")]),v._v(\"方式的\"),_(\"code\",[v._v(\"git merge\")])]),v._v(\" \"),_(\"p\",[v._v(\"创建并切换分支\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git switch -c dev\")])]),v._v(\" \"),_(\"p\",[v._v(\"提交文件\")]),v._v(\" \"),_(\"p\",[v._v(\"切换分支master\")]),v._v(\" \"),_(\"p\",[v._v(\"合并禁用Fast forward\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v('git merge --no-ff -m \"merge with no-ff\" dev')])]),v._v(\" \"),_(\"p\",[v._v(\"因为本次合并要创建一个新的commit，所以加上\"),_(\"code\",[v._v(\"-m\")]),v._v(\"参数，把commit描述写进去。\")]),v._v(\" \"),_(\"p\",[_(\"code\",[v._v(\"git log\")]),v._v(\"查看分支历史\")]),v._v(\" \"),_(\"div\",{staticClass:\"custom-block tip\"},[_(\"p\",{staticClass:\"custom-block-title\"},[v._v(\"分支策略\")]),v._v(\" \"),_(\"p\",[v._v(\"在实际开发中，我们应该按照几个基本原则进行分支管理：\")]),v._v(\" \"),_(\"p\",[v._v(\"首先，\"),_(\"code\",[v._v(\"master\")]),v._v(\"分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活；\")]),v._v(\" \"),_(\"p\",[v._v(\"那在哪干活呢？干活都在\"),_(\"code\",[v._v(\"dev\")]),v._v(\"分支上，也就是说，\"),_(\"code\",[v._v(\"dev\")]),v._v(\"分支是不稳定的，到某个时候，比如1.0版本发布时，再把\"),_(\"code\",[v._v(\"dev\")]),v._v(\"分支合并到\"),_(\"code\",[v._v(\"master\")]),v._v(\"上，在\"),_(\"code\",[v._v(\"master\")]),v._v(\"分支发布1.0版本；\")]),v._v(\" \"),_(\"p\",[v._v(\"你和你的小伙伴们每个人都在\"),_(\"code\",[v._v(\"dev\")]),v._v(\"分支上干活，每个人都有自己的分支，时不时地往\"),_(\"code\",[v._v(\"dev\")]),v._v(\"分支上合并就可以了。\")]),v._v(\" \"),_(\"p\",[v._v(\"Git分支十分强大，在团队开发中应该充分应用。\")]),v._v(\" \"),_(\"p\",[v._v(\"合并分支时，加上\"),_(\"code\",[v._v(\"--no-ff\")]),v._v(\"参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并，而\"),_(\"code\",[v._v(\"fast forward\")]),v._v(\"合并就看不出来曾经做过合并。\")])]),v._v(\" \"),_(\"h2\",{attrs:{id:\"_7-bug分支\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-bug分支\"}},[v._v(\"#\")]),v._v(\" 7.BUG分支\")]),v._v(\" \"),_(\"p\",[_(\"a\",{attrs:{href:\"https://www.liaoxuefeng.com/wiki/896043488029600/900388704535136\",target:\"_blank\",rel:\"noopener noreferrer\"}},[v._v(\"教程\"),_(\"OutboundLink\")],1)])])}),[],!1,null,null,null);e.default=a.exports}}]);","extractedComments":[]}