(window.webpackJsonp=window.webpackJsonp||[]).push([[249],{662:function(s,t,a){"use strict";a.r(t);var r=a(62),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker-run"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-run"}},[s._v("#")]),s._v(" docker run")]),s._v(" "),a("h2",{attrs:{id:"启动镜像容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动镜像容器"}},[s._v("#")]),s._v(" 启动镜像容器")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动容器，-d代表后台，-p表示端口映射 前面是外部通讯号，后边是项目真实端口号，二者相关联，外部端口可以随意设置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#挂载配置文件到外部 宿主机路径:容器路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("容器名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -dp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("外部通讯号"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("项目真实端口号"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -v "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("宿主机路径"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("容器路径"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("镜像名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("版本号"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("test -dp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18888")]),s._v(":8888 -v /home/test/config:/config test:1.0.0.0\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --privileged"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true --restart"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -d -it --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("demo -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8700")]),s._v(":8700 -v /home/bb:/usr/data demo:1.0.0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs -f demo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"restart-always"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#restart-always"}},[s._v("#")]),s._v(" --restart=always")]),s._v(" "),a("p",[s._v("docker重启时容器自动重启")]),s._v(" "),a("h5",{attrs:{id:"在已经启动的容器增加此属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在已经启动的容器增加此属性"}},[s._v("#")]),s._v(" 在已经启动的容器增加此属性")]),s._v(" "),a("p",[a("code",[s._v("docker update --restart=always <容器名称>")])]),s._v(" "),a("h4",{attrs:{id:"privileged-true"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#privileged-true"}},[s._v("#")]),s._v(" --privileged=true")]),s._v(" "),a("p",[s._v("权限出现问题时，指定容器内部使用root权限")]),s._v(" "),a("h4",{attrs:{id:"指定配置文件-e-spring-profiles-active-prod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指定配置文件-e-spring-profiles-active-prod"}},[s._v("#")]),s._v(" 指定配置文件  -e SPRING_PROFILES_ACTIVE=prod")]),s._v(" "),a("p",[s._v("docker run -e SPRING_PROFILES_ACTIVE=prod demo:1.0.0.0")])])}),[],!1,null,null,null);t.default=e.exports}}]);