(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{477:function(s,a,n){"use strict";n.r(a);var e=n(62),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"存档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#存档"}},[s._v("#")]),s._v(" 存档")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('Date.prototype.format = function (format) {\n    var o = {\n        "M+": this.getMonth() + 1, //month\n        "d+": this.getDate(), //day\n        "h+": this.getHours(), //hour\n        "m+": this.getMinutes(), //minute\n        "s+": this.getSeconds(), //second\n        "q+": Math.floor((this.getMonth() + 3) / 3), //quarter\n        "S": this.getMilliseconds() //millisecond\n    }\n    if (/(y+)/.test(format)) {\n        format = format.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));\n    }\n\n    for (var k in o) {\n        if (new RegExp("(" + k + ")").test(format)) {\n            format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));\n        }\n    }\n    return format;\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h1",{attrs:{id:"linux系统上java应用-例如spring-boot-启动慢的原因之一"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux系统上java应用-例如spring-boot-启动慢的原因之一"}},[s._v("#")]),s._v(" "),n("a",{attrs:{href:"https://www.cnblogs.com/liuqq1015/p/15516903.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux系统上java应用（例如spring boot）启动慢的原因之一"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("今天引入一些动态代理后，启动程序时间长达120s，找了下原因，详情可以看一下。简单来说就是，应用启动时有些框架或者日志组件，尤其是spring boot，会直接或间接地多次调用：java.net.InetAddress.getLocalHost()这个调用在操作系统中可能会耗时很久。")]),s._v(" "),n("p",[s._v("解决办法有两种：")]),s._v(" "),n("ol",[n("li",[s._v("就是把本机的hostname 添加到 /etc/hosts 中，例如: 127.0.0.1 localhost myMac")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cat /etc/hosts\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h1",{attrs:{id:"ssh"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[s._v("#")]),s._v(" SSH")]),s._v(" "),n("h2",{attrs:{id:"更新密钥-ssh-keygen-r-ip"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更新密钥-ssh-keygen-r-ip"}},[s._v("#")]),s._v(" 更新密钥 ssh-keygen -R IP")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('更新密钥\nssh-keygen -R IP\n查询内容上下五十行输出到out.log\nansible tps -m shell -a "gunzip -c test.log.gz | grep  -C 50 \'aaaaaaaaa\'" > out.log\n\n\nansible tps -m shell -a "gunzip -c /home/aike/dec/log/2022-03-02/dec_debug_2022-03-02_0.log.gz | grep  -C 5 \'登录失败\'"\n\n\ntail -1000f ecfc-management-single-system_debug.log |  grep --line-buffer "login" --color=auto\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('ansible admin -m shell -a "gunzip -c /home/aike/amin/log/2022-03-22/*.gz | grep \'********* upload log end *********‘ "\n\n\nansible tps -m shell -a "md5sum /home/aike/dec/tva-dec-0.0.1.jar"\n\nansible wba -m shell -a "md5sum /home/aike/wechat/tva-wechat-0.0.1.jar"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);