(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{473:function(s,a,t){"use strict";t.r(a);var n=t(62),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"java开发手册"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java开发手册"}},[s._v("#")]),s._v(" Java开发手册")]),s._v(" "),t("h2",{attrs:{id:"编程规约"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编程规约"}},[s._v("#")]),s._v(" 编程规约")]),s._v(" "),t("h3",{attrs:{id:"包名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#包名"}},[s._v("#")]),s._v(" 包名")]),s._v(" "),t("p",[s._v("包名统一使用小写，名称只有一个自然语义的英语单词，统一使用单数形式")]),s._v(" "),t("h3",{attrs:{id:"类名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类名"}},[s._v("#")]),s._v(" 类名")]),s._v(" "),t("p",[s._v("类名使用UpperCamelCase风格，以下情形例外：DO/BO/DTO/VO/AO/PO/UID等")]),s._v(" "),t("p",[s._v("抽象类以Abstract或Base开头；异常类命名使用Exception结尾；测试类以测试类的名称开始，Test结尾")]),s._v(" "),t("p",[s._v("枚举类以Enum做为后缀，枚举成员名称需要全大写，单词间用下划线隔开")]),s._v(" "),t("h4",{attrs:{id:"领域模型命名规约"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#领域模型命名规约"}},[s._v("#")]),s._v(" 领域模型命名规约")]),s._v(" "),t("ol",[t("li",[s._v("数据对象：xxxDTO，xxx 即为数据表名")]),s._v(" "),t("li",[s._v("数据传输对象：xxxDTO，xxx为业务领域相关的名称")]),s._v(" "),t("li",[s._v("展示对象：xxxVO，xxx一般为网页名称")]),s._v(" "),t("li",[s._v("POJO是DO/DTO/BO/VO的统称，禁止命名为 xxxPOJO")])]),s._v(" "),t("h3",{attrs:{id:"字段名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字段名"}},[s._v("#")]),s._v(" 字段名")]),s._v(" "),t("p",[s._v("数组定义使用类型与中括号紧挨相连")]),s._v(" "),t("p",[s._v("POJO类中的布尔类型的变量，不要加is前缀，数据库字段使用is_xxx，所以需要建立映射关系（"),t("code",[s._v("<resultMap>")]),s._v("）")]),s._v(" "),t("p",[s._v("避免在父子类的成员变量之间、不同代码块的局部变量之间使用完全相同的命名")]),s._v(" "),t("p",[s._v("常量与变量的命名时，表示类型的名词放在词尾，如 xxxTime / xxxQueue / xxxList / XXX_COUNT")]),s._v(" "),t("h3",{attrs:{id:"方法名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法名"}},[s._v("#")]),s._v(" 方法名")]),s._v(" "),t("p",[s._v("接口类的方法和属性不要加任何修饰符（包括 public ），保持代码简洁，并加上有效的 javadoc 注释。尽量不要在接口里定义变量，如果要定义变量，确定与接口方法相关，并且是整个应用的基础常量。")]),s._v(" "),t("h4",{attrs:{id:"service-dao层方法命名规约"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service-dao层方法命名规约"}},[s._v("#")]),s._v(" Service/DAO层方法命名规约")]),s._v(" "),t("ol",[t("li",[s._v("获取单个对象用 get 做前缀")]),s._v(" "),t("li",[s._v("获取多个对象的方法用 list 做前缀，复数结尾")]),s._v(" "),t("li",[s._v("获取统计值的方法用 count 做前缀")]),s._v(" "),t("li",[s._v("插入的方法用 save / insert 做前缀")]),s._v(" "),t("li",[s._v("删除的方法用 remove / delete 做前缀")]),s._v(" "),t("li",[s._v("修改的方法用 update 做前缀")])]),s._v(" "),t("h2",{attrs:{id:"常量定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常量定义"}},[s._v("#")]),s._v(" 常量定义")]),s._v(" "),t("p",[s._v("不允许存在魔法值（即未经预先定义的常量）出现在代码中")]),s._v(" "),t("p",[s._v("long 和 Long 赋值时，数值后使用大写字母L")]),s._v(" "),t("p",[s._v("变量值仅在一个固定范围内变化使用 enum 类型来定义")]),s._v(" "),t("h2",{attrs:{id:"代码格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码格式"}},[s._v("#")]),s._v(" 代码格式")]),s._v(" "),t("p",[s._v("大括号内为空，简写成{}即可，非空代码块")]),s._v(" "),t("ol",[t("li",[s._v("左大括号前不换行")]),s._v(" "),t("li",[s._v("左大括号后换行")]),s._v(" "),t("li",[s._v("右大括号前换行")]),s._v(" "),t("li",[s._v("右大括号后还有 else 等代码则不换行；表示终止的右大括号后必须换行")])]),s._v(" "),t("h2",{attrs:{id:"oop-规约"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#oop-规约"}},[s._v("#")]),s._v(" OOP 规约")]),s._v(" "),t("p",[s._v("静态变量和静态方法使用类名访问即可")]),s._v(" "),t("p",[s._v("所有的重写方法，都需要加 @Override 注解")]),s._v(" "),t("p",[s._v("相同参数类型，相同业务含义，才可以使用Java 的可变参数，类型避免使用Object，可变参数必须放置在参数列表的最后，建议开发者尽可能不用可变参数编程")]),s._v(" "),t("p",[s._v("外部调用的方法，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加@Deprecated注解，并说明采用的新接口或者新服务是什么")]),s._v(" "),t("p",[s._v("不要使用过时的类或方法")]),s._v(" "),t("h3",{attrs:{id:"数值比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数值比较"}},[s._v("#")]),s._v(" 数值比较")]),s._v(" "),t("p",[s._v("equals应该使用常量或者确定有值的对象来调用equals，不然容易空指针")]),s._v(" "),t("p",[s._v("整型包装类对象之间值的比较，使用equals比较")]),s._v(" "),t("p",[s._v("货币金额，均以最小货币单位且整型类型来进行存储")]),s._v(" "),t("p",[s._v("浮点数之间的等值判断，基本类型不能用==比较，包装数据类型不能用equals判断")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (1)指定一个误差范围，两个浮点数的差值在此范围内，则认为相等")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0F")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9F")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9F")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8F")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" diff "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("e "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6F")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("abs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" diff"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (2)使用BigDecimal来定义值，再进行浮点数的运算操作")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.9"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),s._v(" c "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.8"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),s._v(" x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("subtract")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),s._v(" x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("subtract")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("compareTo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("BigDecimal的等值比较应使用compareTo()方法，而不是equals方法。equals会比较值和精度，而compareTo则会忽略精度")]),s._v(" "),t("p",[s._v("定义数据对象DO类时，属性类型要与数据库字段类型相匹配")]),s._v(" "),t("p",[s._v("禁止使用构造方法BigDecimal(double)的方法把double转为BigDecimal对象，会存在精度损失风险，推荐使用入参为String的构造方法，或者使用BigDecimal的valueOf方法，此方法内部其实执行了Double的toString，而Double的toString按double的实际能表达的精度对尾数进行了截断")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),s._v(" recommend1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),s._v(" recommend2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BigDecimal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("valueOf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("基本类型和包装数据类型的使用标准")]),s._v(" "),t("ol",[t("li",[s._v("所有的POJO类属性必须使用包装数据类型")]),s._v(" "),t("li",[s._v("RPC方法的返回值和参数必须使用包装数据类型（能表示出额外的信息，比如调用失败等）")]),s._v(" "),t("li",[s._v("局部变量使用基本数据类型")])]),s._v(" "),t("p",[s._v("定义DO/DTO/VO等POJO类时，不要设定任何属性默认值")]),s._v(" "),t("p",[s._v("序列化类新增属性时，请不要修改 serialVersionUID 字段，避免反序列化失败；如果完全不兼容升级，避免反序列化混乱，那么请修改 serialVersionUID 值")])])}),[],!1,null,null,null);a.default=e.exports}}]);